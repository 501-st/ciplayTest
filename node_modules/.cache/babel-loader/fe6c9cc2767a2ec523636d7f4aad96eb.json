{"ast":null,"code":"import axios from \"axios\";\nimport { errorAction, loginAction } from \"../store/userReducer\";\nexport const login = (email, password) => dispatch => {\n  try {\n    axios.post(`test`, {\n      email,\n      password\n    }).then(response => {\n      if (response.data.token) {\n        localStorage.setItem(\"token\", response.data.token);\n        dispatch(loginAction(true));\n      } else dispatch(errorAction(true, response.message)); //dispatch(loginAction(true));\n\n    });\n  } catch (e) {\n    dispatch(errorAction(true, response.message));\n  }\n};","map":{"version":3,"names":["axios","errorAction","loginAction","login","email","password","dispatch","post","then","response","data","token","localStorage","setItem","message","e"],"sources":["/home/daniil/github/ciplay/src/api/index.js"],"sourcesContent":["import axios from \"axios\";\nimport {errorAction, loginAction} from \"../store/userReducer\";\n\nexport const login = (email, password) => (\n    (dispatch) => {\n        try {\n            axios.post(`test`, {email, password}).then(\n                response => {\n                    if (response.data.token) {\n                        localStorage.setItem(\"token\", response.data.token)\n                        dispatch(loginAction(true));\n                    } else\n                        dispatch(errorAction(true, response.message))\n                    //dispatch(loginAction(true));\n                }\n            )\n        } catch (e) {\n            dispatch(errorAction(true, response.message))\n        }\n    }\n)"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,sBAAvC;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAChBC,QAAD,IAAc;EACV,IAAI;IACAN,KAAK,CAACO,IAAN,CAAY,MAAZ,EAAmB;MAACH,KAAD;MAAQC;IAAR,CAAnB,EAAsCG,IAAtC,CACIC,QAAQ,IAAI;MACR,IAAIA,QAAQ,CAACC,IAAT,CAAcC,KAAlB,EAAyB;QACrBC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACC,IAAT,CAAcC,KAA5C;QACAL,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR;MACH,CAHD,MAIII,QAAQ,CAACL,WAAW,CAAC,IAAD,EAAOQ,QAAQ,CAACK,OAAhB,CAAZ,CAAR,CALI,CAMR;;IACH,CARL;EAUH,CAXD,CAWE,OAAOC,CAAP,EAAU;IACRT,QAAQ,CAACL,WAAW,CAAC,IAAD,EAAOQ,QAAQ,CAACK,OAAhB,CAAZ,CAAR;EACH;AACJ,CAhBE"},"metadata":{},"sourceType":"module"}